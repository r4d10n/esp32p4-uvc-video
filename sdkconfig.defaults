# Camera sensor â€” OV5647 at 1920x1080 RAW10 30fps
CONFIG_CAMERA_OV5647=y
CONFIG_CAMERA_OV5647_MIPI_RAW8_800X800_50FPS=n
CONFIG_CAMERA_OV5647_MIPI_RAW10_1920X1080_30FPS=y
CONFIG_CAMERA_OV5647_MIPI_DEFAULT_FMT_RAW10_1920X1080_30FPS=y

# Video devices
CONFIG_ESP_VIDEO_ENABLE_MIPI_CSI_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_HW_H264_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_HW_JPEG_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_ISP_VIDEO_DEVICE=y
CONFIG_ESP_VIDEO_ENABLE_ISP_PIPELINE_CONTROLLER=y
CONFIG_ISP_PIPELINE_CONTROLLER_TASK_STACK_USE_PSRAM=y

# PSRAM (32MB hex mode on Olimex board)
CONFIG_SPIRAM=y
CONFIG_SPIRAM_MODE_HEX=y
CONFIG_SPIRAM_SPEED_200M=y

# Performance
CONFIG_COMPILER_OPTIMIZATION_PERF=y
CONFIG_IDF_EXPERIMENTAL_FEATURES=y

# USB Device - High Speed
CONFIG_TINYUSB_RHPORT_HS=y
CONFIG_TINYUSB_VIDEO_STREAMING_IFS=1

# USB task: high priority on CPU1, video task on CPU0
CONFIG_UVC_TINYUSB_TASK_PRIORITY=24
CONFIG_UVC_TINYUSB_TASK_CORE=1
CONFIG_UVC_CAM1_TASK_PRIORITY=23
CONFIG_UVC_CAM1_TASK_CORE=0

# FreeRTOS: 1000Hz tick for minimal scheduling latency
CONFIG_FREERTOS_HZ=1000

# Runtime stats for per-core CPU usage monitoring
CONFIG_FREERTOS_USE_TRACE_FACILITY=y
CONFIG_FREERTOS_GENERATE_RUN_TIME_STATS=y
CONFIG_FREERTOS_VTASKLIST_INCLUDE_COREID=y

# VFS: increase max drivers (camera uses ~6, LWIP needs 1 more)
CONFIG_VFS_MAX_COUNT=12

# Ethernet (Olimex ESP32-P4 onboard IP101GR PHY via internal EMAC)
CONFIG_ETH_ENABLED=y
CONFIG_ETH_USE_ESP32_EMAC=y
